<!DOCTYPE html>
<html>
<head>
	<title> Pacman Demo</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>


		<div id="container">

			<div id="world"></div>

			<div id="pacman"></div>

			<div id="score">0</div>

			<div id="cereza"></div>
		</div>





		<!-- Lista de cosas por hacer  -->
		Llegue al minuto 25

		1)Que  JS  muestre el mundo de bloques, monedas,etc --Listo
		2)que pacman se mueva


		<script>
			
		var world = [ 
		[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
		[2,0,1,2,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
		[2,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,2,1,2],
		[2,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
		[2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
		[2,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,3,2],
		[2,1,1,1,1,1,2,1,1,1,1,1,2,1,1,1,1,2,1,1,1,1,1,1,1,1,2],
		[2,1,1,2,1,1,2,1,1,1,1,1,2,1,1,1,1,2,2,2,2,1,2,1,1,1,2],
		[2,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,2,1,1,2,1,1,1,1,1,2],
		[2,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,2,1,1,1,1,1,1,1,1,2],
		[2,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,2,1,1,1,1,1,1,1,1,2],
		[2,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,2],
		[2,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
		[2,1,1,1,1,1,1,2,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
		[2,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
		[2,1,1,1,1,1,1,2,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,1,1,1,2],
		[2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,2,1,1,1,2],
		[2,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,1,1,1,2],
		[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]

		];

		var score = 0;

		var cereza = 0;

		var	pacman =  {
			x:1,
			y:1
		};

		function displayworld(){
			var output ='';

			for (var i=0; i<world.length; i++){
					output += "\n<div class='row'>\n";
				for (var j=0; j<world[i].length; j++){
					
					if (world[i][j] == 2) 
					output+= "<div class='brick'></div>";
				
					else if (world[i][j] == 1)
					output+="<div class='coin'></div>";

					else if (world[i][j] == 3)
						output +="<div class='cereza'></div>";

					else if (world[i][j] == 11)
						output +="<div class='pacleft'></div>";

					else if (world[i][j] == 22)
						output +="<div class='pacright'></div>";

				
					if(world[i][j] == 0){
						output+="<div class='empty'></div>";
					}
				}
				output += "\n</div>";

			}
			//console.log(output);
			document.getElementById("world").innerHTML= output;
		}
		//function displaypacman(){ 
				//document.getElementById("pacman").style.top=pacman.y*20+"px";
				//document.getElementById("pacman").style.left=pacman.x*20+"px";
		//}


		function displayscore(){ 
				document.getElementById("score").innerHTML = score ;
		}

		function displayworld(); 
		function displaypacman();
		function displayscore();
		


		document.onkeydown = function(e){
			if(e.keyCode == 37 && world[pacman.y][pacman.x-1] != 2){
				pacman.x--; 
				world[pacman.y][pacman.x] = 11;

			}

			else if (e.keyCode == 39 && world[pacman.y][pacman.x+1] != 2){
				pacman.x++;	
				world[pacman.y][pacman.x] = 22;
					
			}	

			else if (e.keyCode ==38 && world[pacman.y-1][pacman.x] !=2){
				pacman.y--;	
				//world[pacman.y][pacman.x] = 33;			
			}

			else if (e.keyCode ==40  && world[pacman.y+1][pacman.x] !=2){
				pacman.y++; 
				//world[pacman.y][pacman.x] = 44;					
			}

			console.log(world[pacman.y][pacman.x]);

			if(world[pacman.y][pacman.x] == 1){
				world[pacman.y][pacman.x] = 0;
				score+=10;
				function displayworld();
				function displayscore();
				//displaycereza();
			    //console.log(e.keyCode);	
			}



			if(world[pacman.y][pacman.x] == 3){
				world[pacman.y][pacman.x] = 0;
				score+=50;
				function displayworld();
				function displayscore();	
			}
	
			function displaypacman();
		}
		</script>



</body>
</html>